@prefix form: <http://lblod.data.gift/vocabularies/forms/> .
@prefix sh: <http://www.w3.org/ns/shacl#>.
@prefix mu: <http://mu.semte.ch/vocabularies/core/> .
@prefix displayTypes: <http://lblod.data.gift/display-types/> .
@prefix ext: <http://mu.semte.ch/vocabularies/ext/> .
@prefix dc: <http://purl.org/dc/terms/> .

##########################################################
# form
##########################################################
ext:form a form:Form, form:TopLevelForm;
  form:includes ext:publicF;
  form:includes ext:titleF;
  form:includes ext:contentF;
  form:includes ext:datePublicationF;
  form:includes ext:votersL.

ext:detailPg a form:PropertyGroup;
    sh:name "Detail Besluit" ;
    form:help "Here we show what knowledge has been found.";
    sh:order 1.

ext:publicF a form:Field ;
    sh:order 1 ;
    sh:name "Public topic";
    sh:path ( [ sh:inversePath <http://www.w3.org/ns/prov#generated> ] <http://data.vlaanderen.be/ns/besluit#openbaar> ) ;
    form:displayType displayTypes:switch;
    sh:group ext:detailPg .

ext:titleF a form:Field ;
    sh:order 2 ;
    sh:name "Title Decision";
    sh:path <http://data.europa.eu/eli/ontology#title> ;
    form:displayType displayTypes:textArea;
    sh:group ext:detailPg .

ext:contentF a form:Field ;
    sh:order 3 ;
    sh:name "Content Decision";
    sh:path <http://www.w3.org/ns/prov#value> ;
    form:displayType displayTypes:textArea;
    sh:group ext:detailPg .

ext:datePublicationF a form:Field ;
    sh:order 4 ;
    sh:name "Date Meeting";
    sh:path (
      [ sh:inversePath <http://www.w3.org/ns/prov#generated> ]
      <http://purl.org/dc/terms/subject>
      [ sh:inversePath <http://data.vlaanderen.be/ns/besluit#behandelt> ]
      <http://data.vlaanderen.be/ns/besluit#geplandeStart>
      ) ;
    form:displayType displayTypes:dateTime;
    sh:group ext:detailPg .

ext:votersPg a form:PropertyGroup;
    sh:name "Voting attendees" ;
    form:help "The list below displays who attended the voting";
    sh:order 2.

ext:votersL a form:Listing, form:ListingTable;
  form:scope [
    a form:Scope;
    sh:path (
      [ sh:inversePath <http://www.w3.org/ns/prov#generated> ]
        <http://data.vlaanderen.be/ns/besluit#heeftStemming>
        <http://data.vlaanderen.be/ns/besluit#heeftAanwezige>
        )
      ];
  form:each ext:votersSubForm;
  sh:group ext:votersPg;
  sh:order 1.

ext:votersSubForm a form:SubForm;
  form:includes ext:voterNameF;
  form:includes ext:lastNameF.

ext:voterNameF a form:Field;
    sh:order 1 ;
    sh:name "First name Voter";
    sh:path ( <http://data.vlaanderen.be/ns/mandaat#isBestuurlijkeAliasVan> <http://data.vlaanderen.be/ns/persoon#gebruikteVoornaam> ) ;
    form:displayType displayTypes:defaultInput;
    sh:group ext:votersPg .

ext:lastNameF a form:Field;
    sh:order 2 ;
    sh:name "Last name Voter";
    sh:path ( <http://data.vlaanderen.be/ns/mandaat#isBestuurlijkeAliasVan> <http://xmlns.com/foaf/0.1/familyName> ) ;
    form:displayType displayTypes:defaultInput;
    sh:group ext:votersPg .
